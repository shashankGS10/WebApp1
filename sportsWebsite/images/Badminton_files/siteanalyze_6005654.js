var _sz=_sz||[];_sz.push(["accountid",6005654]);_sz.push(["custom",function(){if(window.location.href.indexOf("/zoeken/")>-1){var b=window.location.href.match(/q=([^&\/#!]*)/)[1].replace(/(\+|%20)/g," ");var a=jQuery("div#c339.t3ce").text().match(/\d+/g)!==null?jQuery("div#c339.t3ce").text().match(/\d+/g).pop():0;_sz.push(["sw",b]);_sz.push(["hits",a])}},"Internal search"]);_sz.push(["heatmap",{matches:{permanent:["http://studenten.tudelft.nl/citg/","http://studenten.tudelft.nl/tbm/","https://www.tudelft.nl","https://www.tudelft.nl/2018/tu-delft/nieuwe-vliegende-robot-imiteert-insectenvlucht/","https://www.tudelft.nl/3me/","https://www.tudelft.nl/3me/afdelingen/biomechanical-engineering/","https://www.tudelft.nl/3me/afdelingen/cognitive-robotics-cor/","https://www.tudelft.nl/3me/afdelingen/delft-center-for-systems-and-control/","https://www.tudelft.nl/3me/afdelingen/maritime-and-transport-technology/","https://www.tudelft.nl/3me/afdelingen/materials-science-and-engineering/","https://www.tudelft.nl/3me/afdelingen/precision-and-microsystems-engineering-pme/","https://www.tudelft.nl/3me/afdelingen/process-energy/","https://www.tudelft.nl/bk/","https://www.tudelft.nl/bk/onderzoek/","https://www.tudelft.nl/bk/onderzoek/onderzoek-bij-bouwkunde/","https://www.tudelft.nl/bk/onderzoek/onderzoeksthemas/circular-built-environment/","https://www.tudelft.nl/bk/onderzoek/onderzoeksthemas/circular-built-environment/people/","https://www.tudelft.nl/bk/onderzoek/onderzoeksthemas/circular-built-environment/projects/","https://www.tudelft.nl/bk/onderzoek/research-stories/","https://www.tudelft.nl/bk/studeren/bacheloropleiding/","https://www.tudelft.nl/citg/","https://www.tudelft.nl/citg/onderzoek/stories-of-science/","https://www.tudelft.nl/citg/onderzoek/stories-of-science/de-woelige-baren-van-de-oosterschelde/","https://www.tudelft.nl/citg/onderzoek/stories-of-science/voor-een-megaproject-is-een-grote-tank-nodig/","https://www.tudelft.nl/citg/onderzoek/stories-of-science/water-in-de-lucht/","https://www.tudelft.nl/en/","https://www.tudelft.nl/en/ae/","https://www.tudelft.nl/en/architecture-and-the-built-environment/","https://www.tudelft.nl/en/architecture-and-the-built-environment/research/","https://www.tudelft.nl/en/architecture-and-the-built-environment/research/research-at-bk-bouwkunde/","https://www.tudelft.nl/en/architecture-and-the-built-environment/research/research-stories/","https://www.tudelft.nl/en/architecture-and-the-built-environment/research/research-themes/circular-built-environment/","https://www.tudelft.nl/en/architecture-and-the-built-environment/research/research-themes/circular-built-environment/people/","https://www.tudelft.nl/en/architecture-and-the-built-environment/research/research-themes/circular-built-environment/projects/","https://www.tudelft.nl/en/architecture-and-the-built-environment/research/research-themes/circular-built-environment/projects/cinderela/","https://www.tudelft.nl/en/architecture-and-the-built-environment/research/research-themes/circular-built-environment/projects/circular-area-development-binckhorst-the-hague/","https://www.tudelft.nl/en/ceg/","https://www.tudelft.nl/en/ceg/about-faculty/departments/engineering-structures/","https://www.tudelft.nl/en/ceg/about-faculty/departments/materials-mechanics-management-design-3md/","https://www.tudelft.nl/en/ceg/about-the-faculty/departments/geoscience-engineering/","https://www.tudelft.nl/en/ceg/about-the-faculty/departments/hydraulic-engineering/","https://www.tudelft.nl/en/ceg/about-the-faculty/departments/transport-planning/","https://www.tudelft.nl/en/ceg/research/stories-of-science/globally-mapping-air-pollution/","https://www.tudelft.nl/en/ceg/research/stories-of-science/it-takes-a-big-tank-to-research-a-megaproject/","https://www.tudelft.nl/en/ceg/research/stories-of-science/self-healing-of-concrete-by-bacterial-mineral-precipitation/","https://www.tudelft.nl/en/education/admission-and-application/msc-international/1-admission-requirements/","https://www.tudelft.nl/en/education/programmes/bachelors/","https://www.tudelft.nl/en/education/programmes/masters/","https://www.tudelft.nl/en/education/programmes/masters/applied-physics/msc-applied-physics/","https://www.tudelft.nl/en/education/programmes/masters/architecture-urbanism-and-building-sciences/msc-architecture-urbanism-and-building-sciences/","https://www.tudelft.nl/en/education/programmes/masters/architecture-urbanism-and-building-sciences/msc-architecture-urbanism-and-building-sciences/master-tracks/management-in-the-built-environment/","https://www.tudelft.nl/en/education/programmes/masters/chemical-engineering/msc-chemical-engineering/","https://www.tudelft.nl/en/education/programmes/masters/cosem/msc-complex-systems-engineering-and-management/","https://www.tudelft.nl/en/education/programmes/masters/engineering-and-policy-analysis/msc-engineering-and-policy-analysis/","https://www.tudelft.nl/en/education/programmes/masters/geomatics/msc-geomatics/","https://www.tudelft.nl/en/education/programmes/masters/industrial-ecology/msc-industrial-ecology/","https://www.tudelft.nl/en/education/programmes/masters/life-science-technology/msc-life-science-technology/","https://www.tudelft.nl/en/education/programmes/masters/mot/mot/","https://www.tudelft.nl/en/education/programmes/masters/nanobiology/msc-nanobiology/","https://www.tudelft.nl/en/education/programmes/masters/science-education-and-communication/msc-science-education-and-communication/","https://www.tudelft.nl/en/faculty-of-applied-sciences/","https://www.tudelft.nl/en/faculty-of-applied-sciences/about-faculty/departments/bionanoscience/","https://www.tudelft.nl/en/faculty-of-applied-sciences/about-faculty/departments/biotechnology/","https://www.tudelft.nl/en/faculty-of-applied-sciences/about-faculty/departments/chemical-engineering/","https://www.tudelft.nl/en/faculty-of-applied-sciences/about-faculty/departments/imphys/","https://www.tudelft.nl/en/faculty-of-applied-sciences/about-faculty/departments/quantum-nanoscience/","https://www.tudelft.nl/en/faculty-of-applied-sciences/about-faculty/departments/radiation-science-technology/","https://www.tudelft.nl/en/faculty-of-applied-sciences/about-faculty/departments/science-education-and-communication/","https://www.tudelft.nl/en/faculty-of-applied-sciences/business/facilities/reactor-institute-delft/","https://www.tudelft.nl/en/faculty-of-applied-sciences/business/facilities/reactor-institute-delft/research-instruments/","https://www.tudelft.nl/en/ide/","https://www.tudelft.nl/en/tpm/","https://www.tudelft.nl/en/tpm/about-the-faculty/a-career-at-tpm/career-at-tpm/","https://www.tudelft.nl/ewi/","https://www.tudelft.nl/ewi/over-de-faculteit/hoogleraren/","https://www.tudelft.nl/international/","https://www.tudelft.nl/io/","https://www.tudelft.nl/io/studeren/bsc-industrieel-ontwerpen/","https://www.tudelft.nl/kennisvalorisatie/","https://www.tudelft.nl/kennisvalorisatie/contact/faq/","https://www.tudelft.nl/kennisvalorisatie/home-of-innovation/","https://www.tudelft.nl/kennisvalorisatie/investeren-in-kennis/","https://www.tudelft.nl/kennisvalorisatie/ondernemerschap/","https://www.tudelft.nl/kennisvalorisatie/ontwikkeling-innovatie/","https://www.tudelft.nl/lr/","https://www.tudelft.nl/onderwijs/opleidingen/bachelors/","https://www.tudelft.nl/onderwijs/opleidingen/bachelors/bk/bsc-bouwkunde/","https://www.tudelft.nl/onderwijs/opleidingen/bachelors/io/bsc-industrieel-ontwerpen/","https://www.tudelft.nl/onderwijs/opleidingen/bachelors/kt/bsc-klinische-technologie/","https://www.tudelft.nl/onderwijs/opleidingen/bachelors/lst/bsc-life-science-technology/","https://www.tudelft.nl/onderwijs/opleidingen/bachelors/mst/bsc-molecular-science-technology/","https://www.tudelft.nl/onderwijs/opleidingen/bachelors/mt/bsc-maritieme-techniek/","https://www.tudelft.nl/onderwijs/opleidingen/bachelors/nb/bsc-nanobiology/","https://www.tudelft.nl/onderwijs/opleidingen/bachelors/tb/bsc-technische-bestuurskunde/","https://www.tudelft.nl/onderwijs/opleidingen/bachelors/tn/bsc-technische-natuurkunde/","https://www.tudelft.nl/onderwijs/opleidingen/bachelors/tn/bsc-technische-natuurkunde/dubbele-bachelor/","https://www.tudelft.nl/onderwijs/opleidingen/bachelors/wb/bsc-werktuigbouwkunde/","https://www.tudelft.nl/onderwijs/opleidingen/masters/","https://www.tudelft.nl/onderwijs/opleidingen/masters/ae/msc-aerospace-engineering/","https://www.tudelft.nl/onderwijs/opleidingen/masters/ae/msc-aerospace-engineering/admission-and-application/","https://www.tudelft.nl/onderwijs/opleidingen/masters/ae/msc-aerospace-engineering/master-tracks/","https://www.tudelft.nl/onderwijs/opleidingen/masters/aubs/msc-architecture-urbanism-and-building-sciences/","https://www.tudelft.nl/onderwijs/opleidingen/masters/cosem/msc-complex-systems-engineering-and-management/","https://www.tudelft.nl/onderwijs/opleidingen/masters/epa/msc-engineering-and-policy-analysis/","https://www.tudelft.nl/onderwijs/opleidingen/masters/gm/msc-geomatics/","https://www.tudelft.nl/onderwijs/opleidingen/masters/ie/msc-industrial-ecology/","https://www.tudelft.nl/onderwijs/opleidingen/masters/mot/msc-management-of-technology/","https://www.tudelft.nl/onderwijs/opleidingen/masters/sec/msc-science-education-and-communication/lerarenopleiding-science-education-track/","https://www.tudelft.nl/onderwijs/praktische-zaken/","https://www.tudelft.nl/onderwijs/voorlichting-en-ervaren/bsc-open-dagen/","https://www.tudelft.nl/onderwijs/voorlichting-en-ervaren/master-event/","https://www.tudelft.nl/sciencecentre/","https://www.tudelft.nl/sciencecentre/ontdek-science-centre-delft/","https://www.tudelft.nl/studenten","https://www.tudelft.nl/tbm/","https://www.tudelft.nl/tbm/actueel/in-de-media/","https://www.tudelft.nl/tnw/","https://www.tudelft.nl/tnw/zakelijk/faciliteiten/reactor-instituut-delft/","https://www.tudelft.nl/tnw/zakelijk/faciliteiten/reactor-instituut-delft/ncsv-opleidingen/","https://www.tudelft.nl/tnw/zakelijk/faciliteiten/reactor-instituut-delft/onderzoeksinstrumenten/"],include:[],exclude:[]}}]);var _sz=_sz||[];(function(k,b,h,j){var a={curr:window.location.href,ref:b.referrer,esc:function(d){return encodeURIComponent(new String(d).replace(/(\r?\n)+/g," ").replace(/\s+/g," ").replace(/^\s+|\s+$/,""))},empty:function(d){return(d==j||d==null||d=="")},tag:function(d){return(b.getElementsByTagName)?b.getElementsByTagName(d):[]},id:function(d){return(b.getElementById)?b.getElementById(d):false},clone:function(m){var l={};for(var d in m){if(m.hasOwnProperty(d)){l[d]=m[d]}}return l},rnd:function(){return Math.floor(Math.random()*100000)},txt:function(d){return(d.textContent)?d.textContent:d.innerText},uuid:function(){var d=function(){return(((1+Math.random())*65536)|0).toString(16).substring(1)};return(d()+d()+"-"+d()+"-"+d()+"-"+d()+"-"+d()+d()+d())},navtime:function(){var d=k.performance||k.webkitPerformance||k.mozPerformance||k.msPerformance;return !d||!d.timing||d.timing.navigationStart<1?null:(new Date).getTime()-d.timing.navigationStart},_isready:false,_readyhandlers:[],register:function(l,d){d.base=this.actions[l];this.actions[l]=d},actions:{},action:function(l,d){this.actions[l].apply(this.actions,d)},data:[],ready:function(d){if(d===j){return this._isready||a.done()}else{this.when(this.ready,d)}},queueready:function(d){this._isready&&a.done()?d():this._readyhandlers.push(d)},done:function(){return(this._isloaded&&b&&b.body!=null&&(b.readyState=="interactive"||b.readyState=="complete"))},_isloaded:false,_whenTimer:null,when:function(d,m){var l=this.uuid();if(d()){m()}else{setTimeout(function(){a.when(d,m)},50)}},fmt:function(){var d=Array.prototype.slice.call(arguments);var o=d[0];var l=d.slice(1);for(var m=0;m<l.length;m++){var n=new RegExp("\\{"+m+"\\}","gm");o=o.replace(n,l[m])}return o},listen:function(d,l){if(d.addEventListener){d.addEventListener("mousedown",l,false)}else{if(d.attachEvent){d.attachEvent("onmousedown",l)}}},load:function(l){var m=b.createElement("script");m.type="text/javascript";m.async=true;m.src=l;var d=b.getElementsByTagName("script")[0];d.parentNode.insertBefore(m,d)},global:function(d){return(k[d]!==j&&k[d]!==null)?k[d]:null},_images:[],_idx:0,requesturl:function(m,l){var n=[];l.rnd=h.core.rnd();for(d in l){if(this.empty(l[d])){continue}n.push(d+"="+this.esc(l[d]))}var d=this._idx++,q=m+"?"+n.join("&");return q},request:function(l,d){var m=this.requesturl(l,d);this._images[e]=new Image();this._images[e].src="//"+m;this.log("Requesting {0}",m)},_logqueue:[],_logshown:false,log:function(){this._logqueue.push({type:"msg",msg:Array.prototype.slice.call(arguments)});if(this._logshown){this.showlog()}},warn:function(){this._logqueue.push({type:"warn",msg:Array.prototype.slice.call(arguments)});if(this._logshown){this.showlog()}},showlog:function(){this._logshown=true;var m=b.getElementById("szdebugarea");if(m){m.parentNode.removeChild(m)}a.cookie("szngdebug",1);var q="";for(var n=0;n<this._logqueue.length;n++){var p=this._logqueue[n];q+='<p style="padding:8px;margin:0;margin-bottom:8px;background:#'+(p.type=="msg"?"FFF7C9":"ca0000;color:white")+';">'+((p.type=="warn")?"<b>Warning:</b> ":"")+decodeURIComponent(new String(this.fmt.apply(this,p.msg)).replace(/(&[a-z_]+=|\?)/g,"<br />&nbsp;&nbsp;&nbsp;$1"))+"</p>"}var l,d;d=b.createElement("a");d.href="#";d.innerHTML="\u00D7 Close";d.style.cssText="display:block;float:right;color:black;text-decoration:none;";d.onclick=function(o){l.parentNode.removeChild(l);a._logshown=false;a.cookie("szngdebug",null);return false};l=b.createElement("div");l.style.cssText="position:fixed;top:10px;right:10px;background:white;border:1px #ccc solid;width:800px;padding:20px;padding-bottom:10px;font-size:12px;font-family:Arial;line-height:135%;max-height:90%;overflow-y:auto;text-align:left;z-index:999";l.innerHTML=q;l.id="szdebugarea";l.appendChild(d);b.body.appendChild(l)},cookie:function(t,y,u){if(typeof y!="undefined"){u=u||{path:"/"};if(y===null){y="";u.expires=-1}var r="";if(u.expires&&(typeof u.expires=="number"||u.expires.toUTCString)){var p;if(typeof u.expires=="number"){p=new Date();p.setTime(p.getTime()+(u.expires*24*60*60*1000))}else{p=u.expires}r="; expires="+p.toUTCString()}var w=u.path?"; path="+(u.path):"; path=/";var q=u.domain?"; domain="+(u.domain):"";var x=u.secure?"; secure":"";b.cookie=[t,"=",encodeURIComponent(y),r,w,q,x].join("")}else{var m=null;if(b.cookie&&b.cookie!==""){var l=b.cookie.split(";");for(var s=0;s<l.length;s++){var d=l[s].replace(/^\s+|\s+$/g,"");if(d.substring(0,t.length+1)==(t+"=")){m=decodeURIComponent(d.substring(t.length+1));break}}}return m}}};a.register("set",function(l,o){var m=l.split("."),n=h,d;while(m.length>0){d=m.shift();if(n[d]===j){n=0;break}if(m.length==0){break}n=n[d]}(n&&d)?n[d]=o:a.warn("No property named {0}",l)});a.register("register",function(d){a.register(d[0],d[1])});a.register("custom",function(l,n){var m="Running custom function";if(n&&n!=""){m+=": <strong>"+n+"</strong>"}a.log(m);try{l()}catch(d){a.warn("Custom function failed! "+d.message)}});a.register("setcurr",function(d){a.curr=d});a.register("setref",function(d){a.ref=d});a.register("loaded",function(){a._isloaded=true});a.register("showlog",function(){a.showlog()});function g(d){var l=d[0];if(a.actions[l]===j){a.action("set",d)}else{a.action(l,d.slice(1))}}var c=[];var f=[];for(var e=0;e<h.length;e++){c[e]=h[e];f[e]=h[e]}a.data=c;a.ready(function(){for(var d=0;d<f.length;d++){g(f[d])}while(a._readyhandlers.length>0){a._readyhandlers.shift().call()}a._isready=true});h.push=function(d){a.data.push(d);a.ready()?g(d):a.data.push(d)};h.core=a})(window,document,_sz);(function(m,a,k,l){var f={url:m.location.href,ref:a.referrer,title:a.title,res:m.screen.width+"x"+m.screen.height,accountid:null,groups:null,path:null,hits:null,sw:null,ct:null,uid:null,cid:null,cvid:null,rt:k.core.navtime(),prev:null,ourl:null,luid:k.core.uuid(),feedbackid:null,addcid:null,dnt:null};k.analytics={config:{cantrack:true,noonclick:false,ready:true,onClickKey:"szaocHandled"+k.core.rnd()},cookie:{name:"nmstat",domain:a.domain,expires:1000,secure:false},endpoint:{host:"ssl",domain:"siteimprove.com",path:"image.aspx",fullpath:function(d,n){if(!n){n=d;d=this.host}return(d||this.host)+"."+this.domain+"/"+(n||this.path)}},state:{requested:false,requestTime:new Date(),tracked:false,onclickattached:false},opts:function(d){return f[d]},getsessid:function(){if(k.analytics.config.cantrack){var d=k.core.cookie(k.analytics.cookie.name);if(!d){d=(new Date()).getTime()+k.core.rnd();k.core.cookie(k.analytics.cookie.name,d,{expires:k.analytics.cookie.expires,domain:k.analytics.cookie.domain,secure:k.analytics.cookie.secure})}return d}else{return""}}};function h(n,d){d.prev=k.analytics.getsessid();d.rt=d.rt!==null?k.core.navtime():null;k.core.request(n,d)}function j(n,d){d.prev=k.analytics.getsessid();return k.core.requesturl(n,d)}function g(p){if(!k.analytics.config.cantrack||k.analytics.state.onclickattached){return}var q=function(t){try{if(t.href==null||t.href==""||t.href.toLowerCase().indexOf("javascript:")==0||t.href.indexOf("#")==0||t.href.charAt(t.href.length-1)=="#"||t.href==m.location.href||t.href.indexOf(m.location.href+"#")==0||t[k.analytics.config.onClickKey]===true){return true}if(!(p instanceof Array)){return false}for(var s=0;s<p.length;s++){if(t.href.indexOf(p[s])!==-1){return true}}return false}catch(r){return true}};var d=k.core.tag("a");var n=k.core.tag("area");var o=function(t){for(var r=0;r<t.length;r++){var s=t[r];if(q(s)){continue}(function(u){k.core.listen(u,function(){k.push(["request",{ourl:u.href,ref:m.location.href,autoonclick:1,rt:null}])});s[k.analytics.config.onClickKey]=true})(s)}};k.core.log("Attaching onclick handlers");o(d);o(n);k.analytics.state.onclickattached=true}var b=0;function c(n,d,o){return{aid:f.accountid,luid:f.luid,c:n,a:d,l:o,cid:f.cid,cvid:f.cvid,o:++b,d:Math.round((new Date()-k.analytics.state.requestTime)/1000)}}function e(){var d=window.doNotTrack||navigator.doNotTrack||navigator.msDoNotTrack;return d=="yes"||d=="1"||(window.external&&window.external.msTrackingProtectionEnabled&&window.external.msTrackingProtectionEnabled())}k.core.register("eventurl",function(o,d,p,n){if(!n){k.core.warn("You must provide a callback function");return}if(!o||!d){k.core.warn("Category and action must be provided for event.");return}else{if(!k.analytics.config.cantrack){return}}var q=j(k.analytics.endpoint.fullpath("event.aspx"),c(o,d,p));n(q)});k.core.register("event",function(n,d,o){if(!n||!d){k.core.warn("Category and action must be provided for event.");return}else{if(!k.analytics.config.cantrack){return}}h(k.analytics.endpoint.fullpath("event.aspx"),c(n,d,o))});k.core.register("dump",function(){console.debug(k.analytics);console.debug(f)});k.core.register("noonclick",function(d){k.analytics.config.noonclick=d});k.core.register("usenewcollectors",function(n){if(n===true){var d=_sz.analytics.opts("accountid");if(!!d){k.analytics.endpoint.host=_sz.analytics.opts("accountid")+".global";k.analytics.endpoint.domain="siteimproveanalytics.io";k.core.log("Using new collectors! New url is: {0}",k.analytics.endpoint.fullpath("image.aspx"))}}});k.core.register("set",function(d,n){if(f.hasOwnProperty(d)){f[d]=n}else{this.set.base(d,n)}});k.core.register("breadcrumbs",function(n){if(!n||!a.querySelector){return}var d=a.querySelector(n);if(d){f.path=k.core.txt(d)}});k.core.register("groupselector",function(p){if(!p||!a.querySelectorAll){return}var o=a.querySelectorAll(p),d=[];if(f.groups){d.push(f.groups)}for(var n=0;n<o.length;n++){var q=k.core.txt(o[n]);if(q!=null){d.push(q)}}if(d.length>0){f.groups=d.join(",");k.core.log("Groups set: {0}",d.join(", "))}});k.core.register("metagroupname",function(p){var o=k.core.tag("meta"),d=[];if(f.groups){d.push(f.groups)}for(var n=0;n<o.length;n++){if(o[n].name==p){k.core.log("Metagroup pushing group: {0}",o[n].content);d.push(o[n].content)}}if(d.length>0){f.groups=d.join(",");k.core.log("Metagroup set: {0}",d.join(", "))}});k.core.register("param",function(d,o){if(typeof d=="object"){for(i in d){k.push(["param",i,d[i]])}}else{k.core.log("Param {0} = {1}",d,o);f["grk_"+d]=o}});k.core.register("request",function(d){if(d.accountid===l){d.accountid=f.accountid}h(k.analytics.endpoint.fullpath(),d)});k.core.register("trackpageview",function(){var d=k.analytics;if(!d.state.tracked&&d.config.cantrack&&d.config.ready){h(d.endpoint.fullpath(),f);d.state.tracked=true;d.state.requestTime=new Date()}else{if(d.state.tracked){k.core.log("Already tracked...")}}});k.core.register("notrack",function(d){if(d===l){d=true}if(d){k.core.cookie("sz_notrack","true",{expires:1825})}else{k.core.cookie("sz_notrack",null)}k.analytics.config.cantrack=!d});k.tracking=function(){return k.analytics.config.cantrack};k.donottrack=function(){return f.dnt===true&&!!e()};k.core.register("trackdynamic",function(o){var d=f.url;f.url=m.location.href;f.ref=d;f.title=a.title;f.luid=k.core.uuid();f.rt=null;f.ourl=null;f.groups=null;f.path=null;f.hits=null;f.sw=null;k.analytics.state.tracked=false;k.analytics.state.onclickattached=false;if(o&&o.length>0){for(var n=0;n<o.length;n++){k.push(o[n])}}if(!f.ourl){f.ourl=f.url}k.push(["invoketracking"])});k.core.register("invoketracking",function(){if(!!k.analytics.config.cantrack&&k.donottrack()){k.core.log("Do not track enabled");k.analytics.config.cantrack=false}if(!k.analytics.config.cantrack){k.core.log("Tracking not enabled, skipping invocation");return}k.push(["trackpageview"]);if(k.analytics.config.noonclick!==true){g(k.analytics.config.noonclick)}});k.core.ready(function(){k.core.log("Running ready at {0}",new Date().getTime());if(k.core.cookie("sz_notrack")!==null){k.push(["notrack"])}k.push(["invoketracking"])})})(window,document,_sz);(function(p,c,n,o){var a={scrollDelay:350,resizeDelay:350};var m={running:false,initViewPort:null,supportQuerySelector:true,clickCount:0,scrollHandle:null,lastViewPort:{l:0,t:0},scrollCount:0};n.analytics.heatmap={config:a,state:m};var b={hostnameRx:/^([\w@:.-]+)$/i,pathnameRx:/((?:\/\w+)*\/[-\w.]+[^#&?\s]*)$/i,maxSrcLen:50,boundingElements:{A:true,AREA:true,ARTICLE:false,BODY:false,BUTTON:true,DIV:false,FOOTER:false,FRAME:false,IFRAME:false,H1:false,H2:false,H3:false,H4:false,H5:false,H6:false,HEADER:false,HTML:false,IMG:true,INPUT:true,LABEL:false,LI:false,MAIN:false,SECTION:false,SELECT:true,SPAN:false,TABLE:false,TD:false,TH:false,TEXTAREA:true}};var f={on:function(r,s,q){var d=s.split(" "),t=d.length;while(t--){if(r.addEventListener){r.addEventListener(d[t],q,false)}else{if(r.attachEvent){r.attachEvent("on"+d[t],q)}}}},off:function(r,s,q){var d=s.split(" "),t=d.length;while(t--){if(r.removeEventListener){r.removeEventListener(d[t],q,false)}else{if(r.detachEvent){r.detachEvent("on"+d[t],q)}}}},stop:function(d){if(d.stopPropagation){d.stopPropagation()}else{if(d.cancelBubble!=null){d.cancelBubble=true}}},sourceElement:function(d){return d.srcElement||d.target},map:function(d,q){var s=[];for(var r=0;r<d.length;r++){s.push(q(d[r],r))}return s},cssEscape:function(r){var d=r.charAt(0),q="";if(/^-+$/.test(r)){return"\\-"+r.slice(1)}if(/\d/.test(d)){q="\\3"+d+" ";r=r.slice(1)}q+=f.map(r.split(""),(function(s){if(/[\t\n\v\f]/.test(s)){return"\\"+s.charCodeAt().toString(16)+" "}return(/[ !"#$%&'()*+,.\/:;<=>?@\[\\\]^_`{|}~]/.test(s)?"\\":"")+s})).join("");return q},isUniqueSelector:function(r,d){if(!m.supportQuerySelector||!r){return false}var q=c.querySelectorAll(r);return q.length===1&&q[0]===d},trim:function(d){return String.prototype.trim?d.trim():d.replace(/^\s+|\s+$/g,"")},pathFromSrc:function(r){var d=c.createElement("a");d.href=r;var q=d.pathname;d=null;return q},parent:function(d){var q=d.parentNode;return q.nodeType==1&&!(/\b(html|body|head)\b/i.test(q.tagName))?q:null},childSelector:function(d,v){if(!d.parentNode){return null}var t=d.parentNode.children,u=t.length,r=0,w=true;for(var q=0;q<u;q++){var s=t[q];if(s===d){r=q+1}else{if(s.tagName.toLowerCase()==v){w=false;if(r!==0){break}}}}if(w){return null}if(r===1){return":first-child"}if(r===u){return":last-child"}return":nth-child("+r+")"},pathSelector:function(q){var s=q.tagName.toLowerCase(),r=f.parent(q),d=f.childSelector(q,s);return(r?f.pathSelector(r)+">":"")+s+(d||"")},cssSelector:function(u){var D=u,H="",G="",v="",E="";do{if(!u.tagName){return""}var I=u.tagName.toLowerCase();if(/\b(html|body|head)\b/i.test(I)){return I+H}var z=u.id,r=f.trim(u.className),q=u.classList||r.split(/\s+/);if(typeof(z)!=="string"){z=null}if(z){z=f.cssEscape(z);G="#"+z+H;if(f.isUniqueSelector(G,D)){return G}G=I+"[id='"+z.replace("'","\\'")+"']"+H;if(f.isUniqueSelector(G,D)){return G}}var J="";if(r&&c.getElementsByClassName){var K=Infinity;for(var y=0,A=q.length;y<A;y++){var d=q[y],t=c.getElementsByClassName(d).length;if(t<K){K=t;J=f.cssEscape(d)}}G=I+"."+J+H;if(f.isUniqueSelector(G,D)){return G}if(z){G=I+"[id='"+z.replace("'","\\'")+"']."+J+H;if(f.isUniqueSelector(G,D)){return G}}}switch(I){case"a":var w=u.hash;if(w){G=I+"[href='"+w.replace("'","\\'")+"']"+H;if(f.isUniqueSelector(G,D)){return G}}E=((u.pathname||"").match(b.pathnameRx)||["",""])[1];if(E&&E.length<=b.maxSrcLen){G=I+"[href*='"+E.replace("'","\\'")+"']"+H;if(f.isUniqueSelector(G,D)){return G}}var x=(u.hostname.match(b.hostnameRx)||["",""])[1];if(x&&x.length<=b.maxSrcLen){G=I+"[href*='"+x.replace("'","\\'")+"']"+H;if(f.isUniqueSelector(G,D)){return G}}break;case"img":E=f.pathFromSrc(u.src);v=(E.match(b.pathnameRx)||["",""])[1];if(v&&E.length<=b.maxSrcLen){G=I+"[src*='"+v.replace("'","\\'")+"']"+H;if(f.isUniqueSelector(G,D)){return G}}break;case"input":case"button":case"select":case"textarea":var C=u.getAttribute("name");if(C){G=I+"[name='"+C.replace("'","\\'")+"']"+H;if(f.isUniqueSelector(G,D)){return G}}break;case"label":var B=u.getAttribute("for");if(B){G=I+"[for='"+B.replace("'","\\'")+"']"+H;if(f.isUniqueSelector(G,D)){return G}}break}var F=f.childSelector(u,I);if(F){H=I+F+H;if(f.isUniqueSelector(H,D)){return H}}else{if(z){H=I+"[id='"+z.replace("'","\\'")+"']"+H}else{if(J){H=I+"."+J+H}else{H=I+H;if(f.isUniqueSelector(H,D)){return H}}}}}while((u=u.parentNode)&&(H=">"+H));return H},viewPort:function(){return{l:Math.round((p.pageXOffset||c.documentElement.scrollLeft)-(c.documentElement.clientLeft||0)),t:Math.round((p.pageYOffset||c.documentElement.scrollTop)-(c.documentElement.clientTop||0)),w:Math.round(p.innerWidth||c.documentElement.clientWidth||p.screen.width),h:Math.round(p.innerHeight||c.documentElement.clientHeight||p.screen.height)}},elementPoint:function(q,d){q=q||p.event;var r=f.pagePoint(q);var s=d.getBoundingClientRect();var u=c.documentElement.scrollTop?c.documentElement.scrollTop:c.body.scrollTop;var t=c.documentElement.scrollLeft?c.documentElement.scrollLeft:c.body.scrollLeft;return{x:Math.round(r.x-(s.left+t)),y:Math.round(r.y-(s.top+u))}},pagePoint:function(d){d=d||p.event;var q=d.pageX;var r=d.pageY;if(q===o){q=d.clientX+c.body.scrollLeft+c.documentElement.scrollLeft;r=d.clientY+c.body.scrollTop+c.documentElement.scrollTop}return{x:q,y:r}},preEventHandler:function(d){if(m.scrollCount<1&&m.clickCount<1){e({pos:m.initViewPort,type:"scroll"})}}};var j={click:function(q){if(q.szbHandled===true){return}f.preEventHandler(q);m.clickCount++;var t=f.sourceElement(q);var d=t;while(d!=null&&b.boundingElements[d.tagName]==null){d=d.parentNode}if(d==null){return}var s=f.cssSelector(d);if(!s||s=="html"){return}var r={path:s,point:f.elementPoint(q,d),type:"click"};e(r);q.szbHandled=true},scroll:function(d){if(m.scrollHandle!=null){clearTimeout(m.scrollHandle)}m.scrollHandle=setTimeout(function(){f.preEventHandler(d);m.scrollCount++;var q=f.viewPort();if(q.t!=m.lastViewPort.t||q.h!=m.lastViewPort.h){e({pos:q,type:"scroll"});m.lastViewPort=q}},a.scrollDelay)},resize:function(q){var d=f.viewPort();if(!m.scrollCount||d.h!=m.lastViewPort.h){j.scroll()}}};function h(){if(m.supportQuerySelector){n.core.log("Attaching behaviour map mousedown handlers");f.on(c,"mousedown",j.click);for(var q in b.boundingElements){if(b.boundingElements.hasOwnProperty(q)&&b.boundingElements[q]==true){var d=n.core.tag(q);for(var r in d){f.on(d[r],"mousedown",j.click)}}}}n.core.log("Attaching behaviour map scroll + resize handlers");f.on(p,"scroll",j.scroll);f.on(p,"resize",j.resize)}function e(d){if(!d){return}var s;switch(d.type){case"click":s="c|"+d.point.x+"|"+d.point.y+"|"+d.path;break;case"scroll":s="s|"+d.pos.l+"|"+d.pos.t;break;default:return}var q=l(s);var r=n.analytics.endpoint.fullpath("heat.aspx");n.core.request(r,q)}var g=0;function l(d){var q=f.viewPort();return{aid:n.analytics.opts("accountid"),luid:n.analytics.opts("luid"),p:d,ww:q.w,wh:q.h,cid:n.analytics.opts("cid"),cvid:n.analytics.opts("cvid"),o:++g,d:Math.round((new Date()-n.analytics.state.requestTime)/1000),prev:n.analytics.getsessid()}}var k={keys:Object.keys?Object.keys:function(q){if(q!==Object(q)){throw new TypeError("Object.keys called on a non-object")}var d=[];for(var r in q){if(Object.prototype.hasOwnProperty.call(q,r)){d.push(r)}}return d},extract:function(d){var t={};for(var q=0;q<d.length;q++){var s=d[q].split("=");if(s.length>1){var r=s.shift();var u=s.join("=");if(u.length>0){t[r]=u}}}return t},decompose:function(s){s=encodeURI(decodeURI(f.trim(s||"").replace(/^.*?:\/\//g,"").split("#")[0]));var r=s.split("?");var d=r.shift().replace(/^www\./,"").replace(/\/+$/,"");var q=this.extract(r.join("?").split("&"));return{resource:d,params:q}},check_url:function(d,t){if(d.resource===t.resource){var s=this.keys(t.params);for(var q=0;q<s.length;q++){var r=s[q];if(d.params[r]==o||d.params[r]!==t.params[r]){return false}}return true}return false},check_list:function(q,s,d){s=s||[];for(var r=0;r<s.length;r++){if(s[r]!=o&&this.check_url(q,this.decompose(s[r].toLowerCase()))){if(d){d(s[r])}return true}}return false},enable:function(){var d=this.decompose(this.cur_url());var r,q;var s=d.resource&&this.check_list(d,this.matches.permanent.concat(this.matches.include),function(t){r=t})&&!this.check_list(d,this.matches.exclude,function(t){q=t});n.core.log('Behaviour map tracking match:<br/>include = "{0}"<br/>exclude = "{1}"',encodeURI(r||""),encodeURI(q||""));return s},matches:{permanent:[],include:[],exclude:[]},add_matches:function(d){if(d!=null){if(this.is_array(d.permanent)){this.matches.permanent=this.matches.permanent.concat(d.permanent)}if(this.is_array(d.include)){this.matches.include=this.matches.include.concat(d.include)}if(this.is_array(d.exclude)){this.matches.exclude=this.matches.exclude.concat(d.exclude)}}},replacements:[],add_replacement:function(d){if(this.is_function(d)){this.replacements.push(d)}},is_function:function(d){return d!=null&&(typeof d==="function")&&(d instanceof Function)},is_array:function(d){return d!=null&&(d instanceof Array)&&(d.concat!=o)&&(d.length!=o)},cur_url:function(){var q=n.core.curr.toLowerCase();if(this.replacements&&this.replacements.length>0){for(var d=0;d<this.replacements.length;d++){q=this.replacements[d](q)}}return q}};n.core.register("heatmapreplacement",function(d){k.add_replacement(d)});n.core.register("heatmap",function(d){k.add_matches(d.matches)});n.core.register("heatmapinit",function(){if(!n.analytics.config.cantrack||n.donottrack()){return}if(m.running){n.core.log("Behaviour map tracking already running");return}try{if(!k.enable()){n.core.log("Skipping behaviour map tracking");return}}catch(d){n.core.log("Skipping behaviour map tracking due to: {0}",d);return}try{m.supportQuerySelector=!!c.querySelectorAll&&c.querySelectorAll("body > *:nth-child(1)").length===1}catch(d){m.supportQuerySelector=false}n.core.log("Enabling behaviour map tracking");m.running=true;m.lastViewPort=f.viewPort();m.initViewPort=f.viewPort();h()});n.core.ready(function(){n.core.log("Running behaviour map ready at {0}",new Date().getTime());n.push(["heatmapinit"])})})(window,document,_sz);_sz.core._isloaded=true;